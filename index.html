<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>HAR Cleaner</title>

  <link rel="stylesheet" href="vendor/picnic.min.css"><!-- DEVELOP -->
  <!--PROD <link rel="stylesheet" href="https://unpkg.com/picnic@6.5.0/picnic.min.css"> PROD-->
  <link rel="stylesheet" href="src/style.css"><!-- DEVELOP -->
  <style>
    /* INCLUDE_CSS */
  </style>
</head>
<body>
  <div id="app">
    <nav>
      <a href="#" class="brand">
        <span>HAR Cleaner</span>
      </a>

      <span v-if="!fileopened">
        <input type="file" name="file" id="file1" class="fileinput" @change="loadFile" />
        <label for="file1">Choose a HAR file</label>
      </span>
      <a v-if="fileopened" href="#" class="pseudo button icon-picture centered bg" @click="saveFile">Save</a>
      <label v-if="fileopened" class="button" v-bind:data-tooltip="hideUnselectedTooltip" @click="hideUnselected = !hideUnselected"><img width="20" height="20" v-bind:src="hideUnselectedImg"></label>
      <input v-if="fileopened" type="text" class="search" placeholder="Search..." v-model="searchText" @change="onSearch" @keyup="onSearch" @focus="$event.target.select()">
      <label v-if="fileopened" :disabled="searchResCount === 0" class="button" data-tooltip="Uncheck search results" @click="uncheckSearchResults"><img width="20" height="20" v-bind:src="sweepIcon"></label>

      <div class="menu">
        <span v-if="fileopened">
          <input type="file" name="file" id="file2" class="fileinput" @change="loadFile" />
          <label for="file2">Choose a HAR file</label>
        </span>
        <a href="https://github.com/thameera/harcleaner">Github</a>
      </div>

    </nav>

    <div class="content">
      <div class="error" v-if="err">
        <span>ERROR: </span> {{ err }}
      </div>

      <div v-if="fileopened">
        <em>Uncheck the requests you want to remove and hit 'Save'.</em>
      </div>
      <div v-if="fileopened">
        <em>{{ checkedCount }} of {{ entries.length }} checked.</em>
      </div>

      <div v-for="(entry, index) in entries">
        <transition name="slide-fade">
          <entry
            v-if="entry.selected || !hideUnselected"
            v-bind:data="entry"
            v-on:toggle="entry.selected = !entry.selected"
            >
        </transition>
      </div>
    </div>

  </div>
  
  <script src="vendor/vue.js"></script><!-- DEVELOP -->
  <!--PROD <script src="https://cdn.jsdelivr.net/npm/vue@2.5.21/dist/vue.min.js"></script> PROD-->
  <script src="src/icons.js"></script><!-- DEVELOP -->
  <script src="src/filesaver.js"></script><!-- DEVELOP -->
  <script src="src/har.js"></script><!-- DEVELOP -->
  <script src="src/entry.js"></script><!-- DEVELOP -->
  <script src="src/main.js"></script><!-- DEVELOP -->
  <script>
    // If you want to read the unminified source, check out https://github.com/thameera/harcleaner
    ;(function() {
      /* INCLUDE_JS */
    })();
  </script>
</body>
</html>
